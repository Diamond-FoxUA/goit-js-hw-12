{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport default function getImagesByQuery(query) {\n  return axios('https://pixabay.com/api/', {\n    params: \n    { key: '52353734-aa83943fc4859b94495f66918', \n      q: query, \n      image_type: 'photo', \n      orientation: 'horizontal', \n      safesearch: true }\n  })\n    .then(response => response.data)\n    .catch(error => {\n      console.log(error);\n      return [];\n    })\n}","import SimpleLightbox from 'simplelightbox';\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox;\n\nexport function createGallery(images, galleryEl) {\n  const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n    <li class=\"card\">\n      <a href=\"${largeImageURL}\" class=\"card-item-img\">\n        <img class=\"img\" src=\"${webformatURL}\" alt=\"${tags}\">\n      </a>\n      <div class=\"card-description\">\n        <ul class=\"desc-item\">\n          <li class=\"desk-item-name\">Likes</li>\n          <li class=\"desk-item-value\">${likes}</li>\n        </ul>\n        <ul class=\"desc-item\">\n          <li class=\"desk-item-name\">Views</li>\n          <li class=\"desk-item-value\">${views}</li>\n        </ul>\n        <ul class=\"desc-item\">\n          <li class=\"desk-item-name\">Comments</li>\n          <li class=\"desk-item-value\">${comments}</li>\n        </ul>\n        <ul class=\"desc-item\">\n          <li class=\"desk-item-name\">Downloads</li>\n          <li class=\"desk-item-value\">${downloads}</li>\n        </ul>\n      </div>\n    </li>\n  `).join(\"\");\n\n  galleryEl.insertAdjacentHTML('beforeend', markup);\n\n  if(!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n      captionPosition: 'bottom',\n    });\n  } else {\n    lightbox.refresh();\n  }\n};\n\nexport function clearGallery(galleryEl) {\n  galleryEl.innerHTML = \"\";\n}\n\nexport function showLoader() {\n  document.querySelector('.loader').classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  document.querySelector('.loader').classList.add('hidden');\n}","import getImagesByQuery from './js/pixabay-api.js';\nimport { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\n\n//\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n//\n\nconst formEl = document.querySelector('.form');\nconst formInputEl = formEl.querySelector('input');\nconst formBtnEl = document.querySelector('.form-btn');\n\nconst galleryEl = document.querySelector('.gallery');\n\nformEl.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  formBtnEl.disabled = true;\n  \n  const userSearch = formInputEl.value.trim();\n  if(!userSearch) return;\n\n  clearGallery(galleryEl);\n  showLoader();\n\n  getImagesByQuery(userSearch.toLowerCase())\n    .then(images => {\n      if(!images.hits || images.hits.length === 0) {\n        hideLoader();\n        iziToast.error({\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          position: \"topRight\"\n        })\n        formBtnEl.disabled = false;\n        return;\n      }\n      createGallery(images.hits, galleryEl);\n      hideLoader();\n      formBtnEl.disabled = false;\n    })\n    .catch(error => {\n      console.log(error);\n    })\n\n  formEl.reset();\n}"],"names":["getImagesByQuery","query","axios","response","error","lightbox","createGallery","images","galleryEl","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","clearGallery","showLoader","hideLoader","formEl","formInputEl","formBtnEl","handleSubmit","event","userSearch","iziToast"],"mappings":"owBAEe,SAASA,EAAiBC,EAAO,CAC9C,OAAOC,EAAM,2BAA4B,CACvC,OACA,CAAE,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAAM,CACxB,CAAG,EACE,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,IACL,QAAQ,IAAIA,CAAK,EACV,GACR,CACL,CCbA,IAAIC,EAEG,SAASC,EAAcC,EAAQC,EAAW,CAC/C,MAAMC,EAASF,EAAO,IAAI,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,iBAEzFL,CAAa;AAAA,gCACED,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKlBC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,wCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,GAI9C,EAAE,KAAK,EAAE,EAEVR,EAAU,mBAAmB,YAAaC,CAAM,EAE5CJ,EAOFA,EAAS,QAAO,EANhBA,EAAW,IAAIY,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,IACd,gBAAiB,QACvB,CAAK,CAIL,CAEO,SAASC,EAAaV,EAAW,CACtCA,EAAU,UAAY,EACxB,CAEO,SAASW,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,QAAQ,CAC7D,CAEO,SAASC,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,QAAQ,CAC1D,CC7CA,MAAMC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAcD,EAAO,cAAc,OAAO,EAC1CE,EAAY,SAAS,cAAc,WAAW,EAE9Cf,EAAY,SAAS,cAAc,UAAU,EAEnDa,EAAO,iBAAiB,SAAUG,CAAY,EAE9C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBF,EAAU,SAAW,GAErB,MAAMG,EAAaJ,EAAY,MAAM,KAAI,EACrCI,IAEJR,EAAaV,CAAS,EACtBW,IAEAnB,EAAiB0B,EAAW,aAAa,EACtC,KAAKnB,GAAU,CACd,GAAG,CAACA,EAAO,MAAQA,EAAO,KAAK,SAAW,EAAG,CAC3Ca,IACAO,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,UACpB,CAAS,EACDJ,EAAU,SAAW,GACrB,MACD,CACDjB,EAAcC,EAAO,KAAMC,CAAS,EACpCY,IACAG,EAAU,SAAW,EAC3B,CAAK,EACA,MAAMnB,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EAEHiB,EAAO,MAAK,EACd"}